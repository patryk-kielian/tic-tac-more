{"mappings":"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","sources":["script.js"],"sourcesContent":["\"use strict\";\r\n\r\ndocument.querySelector(\"#copyright-year\").innerText = new Date().getFullYear();\r\n\r\nconst container = document.querySelector(\".container\");\r\nconst gameboard = document.querySelector(\".gameboard\");\r\nconst messageStart = document.querySelector(\"#start\");\r\nconst messagePopup = document.querySelector(\"#popup\");\r\nconst controls_p1 = document.querySelector(\"#p1\");\r\nconst controls_p2 = document.querySelector(\"#p2\");\r\nconst confettiDiv = document.querySelector(\"#tsparticles\");\r\n\r\nlet activePlayer;\r\nlet chosenSize;\r\nlet p1fields = [];\r\nlet p2fields = [];\r\nlet fieldSizes = {};\r\nlet turnCount = 0;\r\n\r\nconst winningConditions = [\r\n  [\"0\", \"1\", \"2\"],\r\n  [\"3\", \"4\", \"5\"],\r\n  [\"6\", \"7\", \"8\"],\r\n  [\"0\", \"3\", \"6\"],\r\n  [\"1\", \"4\", \"7\"],\r\n  [\"2\", \"5\", \"8\"],\r\n  [\"0\", \"4\", \"8\"],\r\n  [\"2\", \"4\", \"6\"],\r\n];\r\n\r\nconst drawBoard = function () {\r\n  let field = [];\r\n  let control_p1 = [];\r\n  let control_p2 = [];\r\n  if (activePlayer) return;\r\n  messageStart.classList.add(\"hidden\");\r\n  messageStart.parentNode.classList.add(\"hidden\");\r\n  for (let i = 0; i <= 8; i++) {\r\n    container.insertAdjacentHTML(\r\n      \"beforeend\",\r\n      `<div class=\"field\" id=\"field${i}\"></div>`\r\n    );\r\n    field[i] = document.querySelector(`#field${i}`);\r\n    field[i].addEventListener(\"click\", place);\r\n  }\r\n\r\n  for (let i = 1; i <= 6; i++) {\r\n    controls_p1.insertAdjacentHTML(\r\n      \"beforeend\",\r\n      `<div class=\"size size${i} p1\" id=\"p1_size${i}\">${i}</div>`\r\n    );\r\n    controls_p2.insertAdjacentHTML(\r\n      \"beforeend\",\r\n      `<div class=\"size size${i} p2\" id=\"p2_size${i}\">${i}</div>`\r\n    );\r\n    control_p1[i] = document.querySelector(`#p1_size${i}`);\r\n    control_p2[i] = document.querySelector(`#p2_size${i}`);\r\n    control_p1[i].addEventListener(\"click\", choose);\r\n    control_p2[i].addEventListener(\"click\", choose);\r\n  }\r\n\r\n  gameboard.classList.remove(\"hidden\");\r\n  activePlayer = 1;\r\n  controls_p1.classList.add(\"active\");\r\n};\r\n\r\n[\"mousedown\", \"keydown\"].forEach((event) =>\r\n  window.addEventListener(event, drawBoard)\r\n);\r\n\r\nconst checkIfAvailable = function (e) {\r\n  if (e.target.classList.contains(\"size\")) {\r\n    if (chosenSize > fieldSizes[Number(e.target.parentNode.id.slice(-1))]) {\r\n      return true;\r\n    } else {\r\n      popup(`A higher or equal number has already been placed here`);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  if (\r\n    chosenSize > fieldSizes[Number(e.target.id.slice(-1))] ||\r\n    !fieldSizes[Number(e.target.id.slice(-1))]\r\n  ) {\r\n    return true;\r\n  } else {\r\n    popup(`A higher or equal number has already been placed here`);\r\n    return false;\r\n  }\r\n};\r\n\r\nconst choose = function (e) {\r\n  if (activePlayer === Number(e.target.className.slice(-1))) {\r\n    chosenSize = Number(e.target.innerHTML);\r\n  } else {\r\n    popup(`Player ${e.target.className.slice(-1)} is not the active player!`);\r\n  }\r\n};\r\n\r\nconst place = function (e) {\r\n  if (!chosenSize) {\r\n    console.log(`First select a size`);\r\n    return;\r\n  }\r\n\r\n  if (activePlayer === 1 && checkIfAvailable(e)) {\r\n    e.target.innerHTML = `<div class=\"size nonclick size${chosenSize} p1\" id=\"p1_size${chosenSize}\">${chosenSize}</div>`;\r\n    p1fields.push(e.target.id.slice(-1));\r\n    fieldSizes[Number(e.target.id.slice(-1))] = chosenSize;\r\n    document\r\n      .querySelector(`.controls #p${activePlayer}_size${chosenSize}`)\r\n      .classList.add(\"hidden\");\r\n    if (p2fields.includes(e.target.id.slice(-1))) {\r\n      let index = p2fields.indexOf(e.target.id.slice(-1));\r\n      p2fields.splice(index, 1);\r\n    }\r\n    turnCount++;\r\n    if (p1fields.length >= 3) checkIfWon(1, p1fields);\r\n    checkIfDraw();\r\n    activePlayer = 2;\r\n    controls_p1.classList.remove(\"active\");\r\n    controls_p2.classList.add(\"active\");\r\n    chosenSize = null;\r\n  } else if (activePlayer === 2 && checkIfAvailable(e)) {\r\n    e.target.innerHTML = `<div class=\"size nonclick size${chosenSize} p2\" id=\"p2_size${chosenSize}\">${chosenSize}</div>`;\r\n    p2fields.push(e.target.id.slice(-1));\r\n    fieldSizes[Number(e.target.id.slice(-1))] = chosenSize;\r\n    document\r\n      .querySelector(`.controls #p${activePlayer}_size${chosenSize}`)\r\n      .classList.add(\"hidden\");\r\n    if (p1fields.includes(e.target.id.slice(-1))) {\r\n      console.log(p1fields);\r\n      let index = p1fields.indexOf(e.target.id.slice(-1));\r\n      p1fields.splice(index, 1);\r\n    }\r\n    turnCount++;\r\n    if (p2fields.length >= 3) checkIfWon(2, p2fields);\r\n    checkIfDraw();\r\n    activePlayer = 1;\r\n    controls_p2.classList.remove(\"active\");\r\n    controls_p1.classList.add(\"active\");\r\n    chosenSize = null;\r\n  }\r\n};\r\n\r\nconst checkIfWon = function (playerNr, playerFields) {\r\n  for (let i = 0; i < winningConditions.length; i++) {\r\n    if (winningConditions[i].every((nr) => playerFields.includes(nr))) {\r\n      confettiDiv.classList.remove(\"hidden\");\r\n      confetti();\r\n      popup(`Congratulations! Player ${playerNr} has won!`, 5000);\r\n      gameboard.classList.add(\"hidden\");\r\n      setTimeout(clearBoard, 5000);\r\n    }\r\n  }\r\n};\r\n\r\nconst checkIfDraw = function () {\r\n  console.log(turnCount);\r\n  if (turnCount >= 12) {\r\n    popup(`The game is a draw. No moves possible!`, 5000);\r\n    gameboard.classList.add(\"hidden\");\r\n    setTimeout(clearBoard, 5000);\r\n  }\r\n};\r\n\r\nconst popup = function (text, timeout = 2500) {\r\n  messagePopup.parentNode.classList.remove(\"hidden\");\r\n  messagePopup.classList.remove(\"hidden\");\r\n  messagePopup.innerHTML = `${text}`;\r\n  setTimeout(() => {\r\n    messagePopup.parentNode.classList.add(\"hidden\");\r\n    messagePopup.classList.add(\"hidden\");\r\n  }, timeout);\r\n};\r\n\r\nconst confetti = function () {\r\n  tsParticles.load(\"tsparticles\", {\r\n    particles: {\r\n      color: {\r\n        value: [\"#c9232e\", \"#908fcd\", \"#fdb827\"],\r\n      },\r\n    },\r\n    emitters: [\r\n      {\r\n        startCount: 200,\r\n        rate: {\r\n          delay: 0.1,\r\n          quantity: 10,\r\n        },\r\n        life: {\r\n          duration: 5,\r\n          count: 1,\r\n        },\r\n        position: {\r\n          x: 25,\r\n          y: 20,\r\n        },\r\n        particles: {\r\n          move: {\r\n            direction: \"top-right\",\r\n          },\r\n        },\r\n      },\r\n      {\r\n        startCount: 200,\r\n        rate: {\r\n          delay: 0.1,\r\n          quantity: 10,\r\n        },\r\n        life: {\r\n          duration: 5,\r\n          count: 1,\r\n        },\r\n        position: {\r\n          x: 75,\r\n          y: 20,\r\n        },\r\n        particles: {\r\n          move: {\r\n            direction: \"top-left\",\r\n          },\r\n        },\r\n      },\r\n    ],\r\n    preset: \"confetti\",\r\n  });\r\n};\r\n\r\nconst clearBoard = function () {\r\n  container.innerHTML = \"\";\r\n  controls_p1.innerHTML = \"\";\r\n  controls_p2.innerHTML = \"\";\r\n  activePlayer = \"\";\r\n  chosenSize = null;\r\n  p1fields = [];\r\n  p2fields = [];\r\n  fieldSizes = {};\r\n  turnCount = 0;\r\n  controls_p2.classList.remove(\"active\");\r\n  controls_p1.classList.add(\"active\");\r\n  messageStart.classList.remove(\"hidden\");\r\n  messageStart.parentNode.classList.remove(\"hidden\");\r\n  confettiDiv.classList.add(\"hidden\");\r\n};\r\n"],"names":["document","querySelector","innerText","Date","getFullYear","$c1ce9d969bfa6909$var$container","$c1ce9d969bfa6909$var$gameboard","$c1ce9d969bfa6909$var$messageStart","$c1ce9d969bfa6909$var$messagePopup","$c1ce9d969bfa6909$var$controls_p1","$c1ce9d969bfa6909$var$controls_p2","$c1ce9d969bfa6909$var$confettiDiv","$c1ce9d969bfa6909$var$activePlayer","$c1ce9d969bfa6909$var$chosenSize","$c1ce9d969bfa6909$var$p1fields","$c1ce9d969bfa6909$var$p2fields","$c1ce9d969bfa6909$var$fieldSizes","$c1ce9d969bfa6909$var$turnCount","$c1ce9d969bfa6909$var$winningConditions","$c1ce9d969bfa6909$var$drawBoard","field","control_p1","control_p2","classList","add","parentNode","i","insertAdjacentHTML","addEventListener","$c1ce9d969bfa6909$var$place","i1","$c1ce9d969bfa6909$var$choose","remove","forEach","event","window","$c1ce9d969bfa6909$var$checkIfAvailable","e","target","contains","Number","id","slice","$c1ce9d969bfa6909$var$popup","className","innerHTML","push","includes","index","indexOf","splice","length","$c1ce9d969bfa6909$var$checkIfWon","$c1ce9d969bfa6909$var$checkIfDraw","console","log","playerNr","playerFields","every","nr","$c1ce9d969bfa6909$var$confetti","setTimeout","$c1ce9d969bfa6909$var$clearBoard","text","timeout","tsParticles","load","particles","color","value","emitters","startCount","rate","delay","quantity","life","duration","count","position","x","y","move","direction","preset"],"version":3,"file":"index.eba6aee0.js.map"}